NAME
    Mandel - Simplistic Model Layer for Mango

SYNOPSIS
      package MyModel;
      use Mojo::Base 'Mandel';

      package MyModel::Person;
      use Mandel::Document;
      field [qw( name age )];

      package MyApp;
      my $mandel = MyModel->new(uri => 'mongodb://localhost/mandeltest');
      my $persons = $mandel->collection('person');

      {
        my $p1 = $persons->create({ name => 'Bruce', age => 30 });
        # $p1 is saved when it goes out of scope
      }

      my $n_persons = $persons->count;
      my $person = $persons->search({ name => 'Bruce' })->single;

      for my $p (@{ $persons->all }) {
        $p->age(25); # change and save automatically
      }

      $person->remove;

DESCRIPTION
    Mandel is a simplistic model layer using the Mango module to interact
    with a MongoDB backend. This class defines the overall model, including
    high level interaction. Individual results, called Types inherit from
    Mandel::Document.

WARNING
    This code is at BEST alpha quality and anything can and will change or
    break. DO NOT USE IN PRODUCTION CODE!

ATTRIBUTES
    Mandel inherits all attributes from Mojo::Base and implements the
    following new ones.

  mango
    An instance of Mango which acts as the database connection. If not
    provided, one will be lazily created using the "uri" attribute.

  namespaces
    The namespaces which will be searched when looking for Types. By
    default, the (sub)class name of this module.

  uri
    The uri used by Mango to connect to the MongoDB server.

METHODS
    Mandel inherits all methods from Mojo::Base and implements the following
    new ones.

  initialize
    Takes a list of document names. Calls the "initialize" method of any
    document names passed in or if no names are passed then for all found
    document classes.

  all_document_names
    Returns a list of all the documents in the "namespaces".

  class_for
    Given a document name, find the related class name, ensure that it is
    loaded (or else die) and return it.

  collection
      $collection_obj = $self->collection($name);

SEE ALSO
    Mojolicious, Mango

SOURCE REPOSITORY
    <http://github.com/jhthorsen/mandel>

AUTHOR
    Jan Henning Thorsen - "jhthorsen@cpan.org"

    This project is a fork of MangoModel
    <http://github.com/jberger/MangoModel>, created by Joel Berger,
    <joel.a.berger@gmail.com>

COPYRIGHT AND LICENSE
    Copyright (C) 2013 by Jan Henning Thorsen

    This library is free software; you can redistribute it and/or modify it
    under the same terms as Perl itself.

