NAME
    Mandel - Simplistic Model Layer for Mango

SYNOPSIS
      package MyModel;
      use Mojo::Base 'Mandel';

DESCRIPTION
    Mandel is a simplistic model layer using the Mango module to interact
    with a MongoDB backend. This class defines the overall model, including
    high level interaction. Individual results, called Types inherit from
    Mandel::Document.

WARNING
    This code is at BEST alpha quality and anything can and will change or
    break. DO NOT USE IN PRODUCTION CODE!

TODO
    I want to replicate DBIx::Class to some extent:
    DBIx::Class::FilterColumn, DBIx::Class::InflateColumn,
    DBIx::Class::Relationship and friends, DBIx::Class::ResultSet,
    DBIx::Class::ResultSource, DBIx::Class::Row and DBIx::Class::Schema.

ATTRIBUTES
    Mandel inherits all attributes from Mojo::EventEmitter and implements
    the following new ones.

  mango
    An instance of Mango which acts as the database connection. If not
    provided, one will be lazily created using the "uri" attribute.

  namespace
    The namespace which will be searched when looking for Types. By default,
    the (sub)class name of this module.

  uri
    The uri used by Mango to connect to the MongoDB server.

METHODS
    Mandel inherits all methods from Mojo::Base and implements the following
    new ones.

  initialize
    Takes a list of document names. Calls the "initialize" method of any
    document names passed in or if no names are passed then for all found
    document classes.

  all_document_names
    Returns a list of all the documents in the "namespace".

  class_for
    Given a document name, find the related class name, ensure that it is
    loaded (or else die) and return it.

  create
     my $head2 = $model->create('Type');
     my $head2 = $model->create('Type', \%mongodb_doc);

    Create an unpopulated instance of a given document. The primary reason
    to use this over the normal constructor is for class name resolution and
    proper handling of certain document attributes.

    It is also possible to pass on a %mongodb_doc which will populate all
    the fields defined in the "Type".

  find_one
    Takes a document name and a query document. Given that query it performs
    a "find_one" and constructs an instance of that document from the
    result. If no result is found then it returns a false value.

  count
    Returns the count of documents in the collection associated with a given
    document name.

  drop_database
    Drops the database that your Mango instance points to. Obviously this
    method should be used with care.

SEE ALSO
    Mojolicious, Mango

SOURCE REPOSITORY
    <http://github.com/jhthorsen/mandel>

AUTHOR
    Jan Henning Thorsen - "jhthorsen@cpan.org"

    This project is a fork of MangoModel
    <http://github.com/jberger/MangoModel>, created by Joel Berger,
    <joel.a.berger@gmail.com>

COPYRIGHT AND LICENSE
    Copyright (C) 2013 by Jan Henning Thorsen

    This library is free software; you can redistribute it and/or modify it
    under the same terms as Perl itself.

